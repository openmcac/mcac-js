<form action="#">
  <div class="row">
    <section class="service-information col-md-6" data-test-id="bulletin-form">
      <h3>Service Information</h3>

      <div class="row">
        <div class="form-group col-md-10 {{if errors.bulletin.name "has-error" ""}}"
          data-test-id="name">
          <label class="control-label">Name {{errors.bulletin.name}}</label>
          {{input value=bulletin.name
                  class="form-control bulletin-name"
                  data-auto-id="bulletin-name"}}
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-10 {{if errors.bulletin.publishedAt "has-error" ""}}"
          data-test-id="published-at">
          <label class="control-label" for="publishedAt">Published at {{errors.bulletin.publishedAt}}</label>
          {{bs-datetimepicker class="published-at"
                              date=bulletin.publishedAt
                              updateDate=(action (mut bulletin.publishedAt))
                              data-auto-id="bulletin-published-at"}}
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-10">
          <label for="banner">Banner</label>
          <div class="form-control banner">
            {{s3-upload url="/api/v1/bulletins/sign"
                didupload=(action this.attrs.diduploadbanner)}}
          </div>
          {{image-preview
              clearimage=(action this.attrs.clearbanner)
              url=bulletin.bannerUrl
              data-auto-id="bulletin-banner-preview"}}
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-12" data-test-id="service-order">
          <label for="serviceOrder">Order</label>
          {{markdown-textarea value=bulletin.serviceOrder
                              class="form-control service-order"
                              data-auto-id="bulletin-service-order"
                              rows="10"}}
        </div>
      </div>
      <div class="panel panel-default">
        <fieldset>
          <div class="panel-heading">
            <h3 class="panel-title">Sermon</h3>
          </div>
          <div class="panel-body">
            {{sermon-editor
                sermon=bulletin.sermon
                speakersearch=(action this.attrs.speakersearch)
                selectedSpeaker=selectedSpeaker
                defaultSpeakerOptions=defaultSpeakerOptions
                updatespeaker=(action this.attrs.updatespeaker)
                createspeaker=(action this.attrs.createspeaker)
                diduploadaudio=(action this.attrs.diduploadaudio)
                clearaudio=(action this.attrs.clearaudio)}}
          </div>
        </fieldset>
      </div>
    </section>
    {{#if this.attrs.appendannouncement}}
      <section class="announcements col-md-6">
        <h3>Announcements</h3>
        {{announcements-editor announcements=bulletin.sortedAnnouncements
            reorder=(action this.attrs.reorderannouncements)
            remove=(action this.attrs.removeannouncement)
            append=(action this.attrs.appendannouncement)}}
      </section>
    {{/if}}
  </div>
  <div class="row">
    <div class="col-sm-12">
      <button type="submit"
          {{action (action this.attrs.onsave bulletin)}}
          class="btn btn-primary save-bulletin"
          disabled={{disableSaveButton}}
          data-auto-id="bulletin-submit">
        Save
      </button>
    </div>
  </div>
</form>
{{yield}}
